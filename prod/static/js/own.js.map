{"version":3,"sources":["common.js"],"names":["qs","query","arguments","length","undefined","document","querySelector","qsAll","querySelectorAll","getParent","el","findParent","parentNode","classList","contains","window","onload","add","navigator","userAgent","match","addEventListener","event","ps","slider","Swiper","loop","spaceBetween","slidesPerView","speed","mousewheel","grabCursor","keyboard","simulateTouch","allowSwipeToNext","allowSwipeToPrev","navigation","nextEl","prevEl","on","slideChangeTransitionEnd","innerText","this","activeIndex","form","init","_th","inputs","forms","emptyCheck","target","value","trim","remove","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","item","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","e","checkForm","preventDefault","_iterator2","checkResult","warningElems","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","elem","getAttribute","test","obj","fadeOut","selector","duration","cb","element","op","String","timer","setInterval","clearInterval","style","display","opacity","filter","fadeIn","type","typeBlock","_self","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","parents","nextElement","nextElementSibling","aside","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6"],"mappings":"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","file":"own.js","sourcesContent":["\"use strict\";\n\nfunction qs(query, root = document) {\n  return root.querySelector(query);\n}\n\nfunction qsAll(query, root = document) {\n  return root.querySelectorAll(query);\n}\n\nfunction getParent(el, findParent) {\n  while (el && el.parentNode) {\n    el = el.parentNode;\n    if (el.classList && el.classList.contains(findParent)) return el;\n  }\n  return false;\n}\n\nwindow.onload = () => qs('body').classList.add('page-loaded');\n\nif (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) qs('body').classList.add('ios');\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n\n  window.ps = {};\n\n  if (qs('.js-swiper-slider')) {\n    window.ps.slider = new Swiper('.js-swiper-slider', {\n      loop: false,\n      spaceBetween: 0,\n      slidesPerView: 1,\n      speed: 500,\n      mousewheel: false,\n      grabCursor: false,\n      keyboard: false,\n      simulateTouch: false,\n      allowSwipeToNext: false,\n      allowSwipeToPrev: false,\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev'\n      },\n      on: {\n        slideChangeTransitionEnd: function () {\n          qs('.swiper-count-item').innerText = this.activeIndex + 1;\n        },\n      },\n    });\n  }\n\n  window.ps.form = {\n\n    init: function () {\n\n      const _th = this,\n        inputs = qsAll('.from-search__input'),\n        forms = qsAll('form');\n\n      function emptyCheck(event) {\n        event.target.value.trim() === '' ?\n          event.target.classList.remove('notempty') :\n          event.target.classList.add('notempty')\n      }\n\n      for (let item of inputs) {\n        item.addEventListener('keyup', emptyCheck)\n        item.addEventListener('blur', emptyCheck)\n      }\n\n      for (let form of forms) {\n        form.addEventListener('submit', (e) => {\n          return !_th.checkForm(form) && e.preventDefault()\n        })\n      }\n\n      return this\n    },\n\n    checkForm: function (form) {\n      let checkResult = true;\n      const warningElems = form.querySelectorAll('.error');\n\n      if (warningElems.length) {\n        for (let warningElem of warningElems) {\n          warningElem.classList.remove('error')\n        }\n      }\n\n      for (let elem of form.querySelectorAll('input, textarea, select')) {\n        if (elem.getAttribute('data-req')) {\n          switch (elem.getAttribute('data-type')) {\n            case 'tel':\n              var re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;\n              if (!re.test(elem.value)) {\n                elem.parentNode.classList.add('error')\n                checkResult = false\n              }\n              break;\n            case 'email':\n              var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n              if (!re.test(elem.value)) {\n                elem.parentNode.classList.add('error')\n                checkResult = false\n              }\n              break;\n            case 'file':\n              if (elem.value.trim() === '') {\n                elem.parentNode.classList.add('error')\n                checkResult = false\n              }\n              break;\n            default:\n              if (elem.value.trim() === '') {\n                elem.classList.add('error')\n                checkResult = false\n              }\n              break;\n          }\n        }\n      }\n\n      return checkResult\n    }\n\n  }.init();\n\n  window.ps.obj = {\n\n    fadeOut: function fadeOut(selector, duration, cb = null) {\n      if (!selector)\n        return;\n      let element,\n        op = 1;\n      if (typeof selector === 'string' || selector instanceof String) {\n        element = document.querySelector(selector);\n      } else {\n        element = selector;\n      }\n      let timer = setInterval(function () {\n        if (op <= 0.1) {\n          clearInterval(timer);\n          element.style.display = 'none';\n          if (cb) cb();\n        }\n        element.style.opacity = op;\n        element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n        op -= op * 0.1;\n      }, duration / 50 || 20);\n    },\n\n    fadeIn: function fadeIn(selector, duration, type, cb = null) {\n      if (!selector)\n        return;\n      let element,\n        op = 0.1,\n        typeBlock = type ? type : 'block';\n      if (typeof selector === 'string' || selector instanceof String) {\n        element = document.querySelector(selector);\n      } else {\n        element = selector;\n      }\n      element.style.opacity = 0;\n      element.style.display = typeBlock;\n      let timer = setInterval(function () {\n        if (op >= 1) {\n          clearInterval(timer);\n          if (cb) cb();\n        }\n        element.style.opacity = op;\n        element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n        op += op * 0.1;\n      }, duration / 50 || 20);\n    },\n\n    init: function init() {\n\n      const _self = this;\n\n      for (let item of qsAll('.js-help-next')) {\n        item.addEventListener('click', function (e) {\n          const parents = getParent(this, 'tutorial__item'),\n            nextElement = parents.nextElementSibling,\n            aside = getParent(this, 'main__aside');\n          if (nextElement) {\n            if (nextElement.classList.contains('tutorial__item--step2')){\n              aside.classList.remove('show-step1');\n              aside.classList.add('show-step2');\n            }\n            if (nextElement.classList.contains('tutorial__item--mirror')){\n              aside.classList.remove('show-step1', 'show-step2');\n              aside.classList.add('dark');\n            }\n            _self.fadeOut(parents, 300, function () {\n              _self.fadeIn(nextElement, 300, 'flex');\n            });\n          }\n          e.preventDefault();\n        });\n      }\n\n      for (let item of qsAll('.js-help-close')) {\n        item.addEventListener('click', function (e) {\n          const parents = getParent(this, 'tutorial__item');\n          _self.fadeOut(parents, 300);\n          qs('.main__aside').classList.remove('active', 'show-step1', 'show-step2', 'dark');\n          e.preventDefault();\n        });\n      }\n\n      return this;\n    }\n\n  }.init();\n\n});\n"]}