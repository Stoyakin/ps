{"version":3,"sources":["common.js"],"names":["qs","query","arguments","length","undefined","document","querySelector","qsAll","querySelectorAll","getParent","el","findParent","parentNode","classList","contains","window","onload","add","navigator","userAgent","match","addEventListener","event","ps","slider","Swiper","loop","spaceBetween","slidesPerView","speed","mousewheel","grabCursor","keyboard","simulateTouch","allowSwipeToNext","allowSwipeToPrev","navigation","nextEl","prevEl","on","slideChangeTransitionEnd","innerText","this","activeIndex","form","init","_th","forms","fieldPhones","formElems","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","phoneItem","value","$","mask","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","formElem","remove","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","checkForm","preventDefault","checkResult","find","removeClass","each","data","test","val","addClass","is","parents","trim","obj","fadeOut","selector","duration","cb","element","op","String","timer","setInterval","clearInterval","style","display","opacity","filter","fadeIn","type","typeBlock"],"mappings":"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","file":"own.js","sourcesContent":["\"use strict\";\n\nfunction qs(query, root = document) {\n  return root.querySelector(query);\n}\n\nfunction qsAll(query, root = document) {\n  return root.querySelectorAll(query);\n}\n\nfunction getParent(el, findParent) {\n  while (el && el.parentNode) {\n    el = el.parentNode;\n    if (el.classList && el.classList.contains(findParent)) return el;\n  }\n  return false;\n}\n\nwindow.onload = () => qs('body').classList.add('page-loaded');\n\nif (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) qs('body').classList.add('ios');\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n\n  window.ps = {};\n\n  if (qs('.js-swiper-slider')){\n    window.ps.slider = new Swiper('.js-swiper-slider', {\n      loop: false,\n      spaceBetween: 0,\n      slidesPerView: 1,\n      speed: 500,\n      mousewheel: false,\n      grabCursor: false,\n      keyboard: false,\n      simulateTouch: false,\n      allowSwipeToNext: false,\n      allowSwipeToPrev: false,\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev'\n      },\n      on: {\n        slideChangeTransitionEnd: function () {\n          qs('.swiper-count-item').innerText = this.activeIndex+1;\n        },\n      },\n    });\n  }\n\n  window.ps.form = {\n\n    init: function init() {\n      let _th = this,\n        forms = qsAll('form'),\n        fieldPhones = qsAll('.js-phone'),\n        formElems = qsAll('.form__field-input, .form__field-textarea');\n      for (let phoneItem of fieldPhones) {\n        $(phoneItem).mask('+7(999) 999-9999')\n      }\n      for (let formElem of formElems) {\n        if (formElem.value != '') {\n          formElem.classList.add('no-empty')\n        } else {\n          formElem.classList.remove('no-empty')\n        }\n        formElem.addEventListener('keyup', function () {\n          if (formElem.value != '') {\n            formElem.classList.add('no-empty')\n          } else {\n            formElem.classList.remove('no-empty')\n          }\n        });\n      }\n      for (let formItem of forms) {\n        formItem.addEventListener('submit', function (event) {\n          if (!_th.checkForm($(this))) event.preventDefault()\n        });\n      }\n      return this;\n    },\n\n    checkForm: function checkForm(form) {\n      let checkResult = true;\n      form.find('.warning').removeClass('warning');\n      form.find('input, textarea, select').each(function () {\n        if ($(this).data('req')) {\n          switch ($(this).data('type')) {\n            case 'tel':\n              var re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;\n              if (!re.test($(this).val())) {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n            case 'email':\n              var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n              if (!re.test($(this).val())) {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n            case 'checkbox_personal':\n              if (!$(this).is(':checked')) {\n                $(this).parents('.checkbox').addClass('warning');\n                checkResult = false;\n              }\n              break;\n            default:\n              if ($.trim($(this).val()) === '') {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n          }\n        }\n      });\n      return checkResult;\n    }\n\n  }.init();\n\n  window.ps.obj = {\n\n    fadeOut: function fadeOut(selector, duration, cb = null) {\n      if (!selector)\n        return;\n      let element,\n        op = 1;\n      if (typeof selector === 'string' || selector instanceof String) {\n        element = document.querySelector(selector);\n      } else {\n        element = selector;\n      }\n      let timer = setInterval(function () {\n        if (op <= 0.1) {\n          clearInterval(timer);\n          element.style.display = 'none';\n          if (cb) cb();\n        }\n        element.style.opacity = op;\n        element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n        op -= op * 0.1;\n      }, duration / 50 || 20);\n    },\n\n    fadeIn: function fadeIn(selector, duration, type, cb = null) {\n      if (!selector)\n        return;\n      let element,\n        op = 0.1,\n        typeBlock = type ? type : 'block';\n      if (typeof selector === 'string' || selector instanceof String) {\n        element = document.querySelector(selector);\n      } else {\n        element = selector;\n      }\n      element.style.opacity = 0;\n      element.style.display = typeBlock;\n      let timer = setInterval(function () {\n        if (op >= 1) {\n          clearInterval(timer);\n          if (cb) cb();\n        }\n        element.style.opacity = op;\n        element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n        op += op * 0.1;\n      }, duration / 50 || 20);\n    },\n\n    init: function init() {\n\n      return this;\n    }\n\n  }.init();\n\n});\n\n"]}